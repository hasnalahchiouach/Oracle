CREATE TABLE PIECE (
NOP number(30), 
DESIGNATION varchar2(50),
COULEUR varchar2(50),
POIDS number(5)) ;

CREATE TABLE SERVICE (
NOS number(30), 
INTITULE VARCHAR(50),
LOCALISATION varchar2(50)) ;


CREATE TABLE ORDRE (
NOP number(30), 
NOS number(30), 
QUANTITE NUMBER(10));

CREATE TABLE NOMENCLATURE (
NOPA NUMBER(30), 
NOPC VARCHAR2(50), 
QUANTITE NUMBER(10)) ;

INSERT INTO PIECE VALUES (10,'hzjuheur','red',50);
INSERT INTO PIECE VALUES (11,'hhhhh','black',40);

INSERT INTO SERVICE VALUES (44,'info','essa');
INSERT INTO SERVICE VALUES (44,'mg','aga');

INSERT INTO ORDRE VALUES (10,45,8);

INSERT INTO NOMENCLATURE VALUES(10,44,55);
INSERT INTO NOMENCLATURE VALUES(10,11,78);
INSERT INTO NOMENCLATURE VALUES(10,47,99);

ALTER TABLE PIECE ADD CONSTRAINT piece_pk PRIMARY KEY(NOP);
ALTER TABLE SERVICE ADD CONSTRAINT service_pk PRIMARY KEY(NOS);
ALTER TABLE ORDRE ADD CONSTRAINT order_piece_fk FOREIGN KEY(NOP) REFERENCES PIECE(NOP);
ALTER TABLE ORDRE ADD CONSTRAINT order_service_fk FOREIGN KEY(NOS) REFERENCES SERVICE(NOS);

ALTER TABLE PIECE ADD CONSTRAINT piece_ck CHECK(COULEUR IN('ROUGE', 'VERTE', 'BLEUE' , 'JAUNE'));


DELETE FROM PIECE;



ALTER TABLE PIECE MODIFY (DESIGNATION varchar2(60));
ALTER TABLE SERVICE MODIFY (INTITULE varchar2(60));
ALTER TABLE SERVICE MODIFY (LOCALISATION varchar2(40));

ALTER TABLE SERVICE ADD  DIRECTEUR varchar2(30);

ALTER TABLE SERVICE DROP COLUMN LOCALISATION ;

ALTER TABLE PIECE DROP PRIMARY KEY CASCADE;
ALTER TABLE PIECE DROP CONSTRAINT piece_ck;
DROP TABLE NOMENCLATURE;

DROP TABLE ORDRE CASCADE CONSTRAINTS;
